## 三、Shell字符串

shell中的数据类型就两种：字符串、数字。

### 3.1. 字符串定义

1. 单引号`' '`方式：

   任何字符串都会原样输出，在这里面使用的变量是无效的

   > var1='zhang: ${PATH}'  # 定义一个变量
   >
   > echo ${var1}     # 得到的结果还是zhang: ${PATH}

2. 双引号`" "`方式（推荐）：

   双引号内包含了变量，那么该变量会被解析得到值，而不是原样输出

   > var2="nihao ${PATH}"   
   >
   > echo var2        # nihao 后面就是环境变量的值(是没有引号的)

   要是想要让输出的值里带引号，就需要转义：

   > var="you are \\"${var2}\\""   
   >
   > \# 这样echo $var结果中，后面那串值就会带双引号

3. 不用引号的方式：

   这与使用双引号类似，也会解析字符串中出现的变量，但是不能出现空格，否则==空格后面的字符串会作为其它命令解析==。

   无空格：

   > - var3=${var1}nihao  # 在var1变量后面+一个nihao
   > - var3=niao${var1}  # 就自会输出nihao,后面就没了
   >
   > 以上都是用echo ${var3}输出得到。

   有空格：

   > new="top"
   >
   > var5=nihao ${new}    # 这里一回车就会直接执行top
   >
   > var6=${new} nihao   # 一回车就报错，说没有nihao这个命令
   >
   > var7=${new} ls  # 这就会执行ls命令，
   >
   > 这感觉意义不大，那不如不要定义变量，这行直接写要执行的命令就好了

### 3.2 获取字符串长度

语法：`${#字符串变量名}`       # 里面的`#`是固定写法

> var="hello world"
>
> echo ${#var}        # 会得到 11

### 3.3. 字符串拼接

定义两个变量：var1=abc;  var2=hello

1. 无符号拼接：var3=${var1}${var2}   

   \# 中间不能有空格(有的话就是同上无引号有空格)

2. 双引号拼接：var3="${var1} 123 ${var2}"  # 任意拼接

3. 混合拼接：var3=${var1}'123'${var2} 或者 var3=${var1}"123"${var2}   # 就还是使用双引号吧

### 3.4. 字符串截取

​	假设一个变量`var=welcome to beijing`，然后那个要找的char设定为`e`;

| 格式                     | 说明                                                         |
| ------------------------ | ------------------------------------------------------------ |
| ${变量名:start:length}   | 从左侧start个字符开始，<br>向右截取length个字符,==start从0开始==; `echo ${var:0:2}` |
| ${变量名:start}          | 不给length,就是向右截取完; `echo ${var:2}`                   |
| ${变量名:0-start:length} | 从右侧start个字符开始，<br>向右截取length个字符,==start从1开始==; `echo ${var:0-5:2}` |
| ${变量名:0-start}        | 从右侧start字符，向右截取完; `echo ${var:0-2}`               |
| ${变量名#*chars}         | 从字符串左侧第一次出现char的位置开始,<br>截取char右边的所有字符; `echo ${var#*e}` |
| ${变量名##*chars}        | 从字符串右侧第一次出现char的位置开始,<br/>截取char右边的所有字符; `echo ${var##*e}` |
| ${变量名%chars*}         | 从字符串右边第一次出现char的位置开始,<br>截取char左边的所有字符; `echo ${var%e*}` |
| ${变量名%%chars*}        | 从字符串右边最后一次出现char的位置开始,<br/>截取char左边的所有字符; `echo ${var%%e*}` |

​	Tips：这里是引用变量的字符串截取。